<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gabriel I. Cook">
<meta name="dcterms.date" content="2024-09-15">

<title>Data Visualization - Designing perceptually-efficient visualizations</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://kit.fontawesome.com/78ddb093ea.js" crossorigin="anonymous"></script>


<link rel="stylesheet" href="../css/nav.css">
<link rel="stylesheet" href="../css/styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title"><strong>Data Visualization</strong></span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text"><strong>Home</strong></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../schedule/index.html" rel="" target="" aria-current="page">
 <span class="menu-text"><strong>Schedule</strong></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../modules/index.html" rel="" target="">
 <span class="menu-text"><strong>Modules</strong></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../project/index.html" rel="" target="">
 <span class="menu-text"><strong>Project</strong></span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-slides" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text"><strong>Slides</strong></span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-slides">    
        <li>
    <a class="dropdown-item" href="../slides/01_intro_rstudio_rmarkdown_slides.html" rel="" target="">
 <span class="dropdown-text">R, RStudio, &amp; R Markdown</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../slides/02_git_slides.html" rel="" target="">
 <span class="dropdown-text">Git and GitHub</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../slides/03_functions_slides.html" rel="" target="">
 <span class="dropdown-text">Functions, Parameters, and Arguments</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hw" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text"><strong>HW</strong></span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hw">    
        <li>
    <a class="dropdown-item" href="https://raw.githubusercontent.com/slicesofdata/dataviz24/main/homework/hw01.Rmd" rel="" target="">
 <span class="dropdown-text">HW 01</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://raw.githubusercontent.com/slicesofdata/dataviz24/main/homework/hw02.Rmd" rel="" target="">
 <span class="dropdown-text">HW 02</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://raw.githubusercontent.com/slicesofdata/dataviz24/main/homework/hw03.Rmd" rel="" target="">
 <span class="dropdown-text">HW 03</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://raw.githubusercontent.com/slicesofdata/dataviz24/main/homework/hw04.Rmd" rel="" target="">
 <span class="dropdown-text">HW 04</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://raw.githubusercontent.com/slicesofdata/dataviz24/main/homework/hw05.Rmd" rel="" target="">
 <span class="dropdown-text">HW 05</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://raw.githubusercontent.com/slicesofdata/dataviz24/main/homework/hw06.Rmd" rel="" target="">
 <span class="dropdown-text">HW 06</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://raw.githubusercontent.com/slicesofdata/dataviz24/main/homework/hw07.Rmd" rel="" target="">
 <span class="dropdown-text">HW 07</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://raw.githubusercontent.com/slicesofdata/dataviz24/main/homework/hw08.Rmd" rel="" target="">
 <span class="dropdown-text">HW 08</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://raw.githubusercontent.com/slicesofdata/dataviz24/main/homework/hw09.Rmd" rel="" target="">
 <span class="dropdown-text">HW 09</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://raw.githubusercontent.com/slicesofdata/dataviz24/main/homework/hw10.Rmd" rel="" target="">
 <span class="dropdown-text">HW 10</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-exercises" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text"><strong>Exercises</strong></span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-exercises">    
        <li>
    <a class="dropdown-item" href="../exercises/example-project-management-and-git.pdf" rel="" target="">
 <span class="dropdown-text">project-management-and-git.pdf</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../exercises/grouping_and_summarizing_exercise.pdf" rel="" target="">
 <span class="dropdown-text">grouping_and_summarizing_exercise.pdf</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-data" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text"><strong>Data</strong></span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-data">    
        <li>
    <a class="dropdown-item" href="https://github.com/slicesofdata/dataviz24/raw/main/data/baby-names-2008.csv" rel="" target="">
 <span class="dropdown-text">baby-names-2008.csv</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/slicesofdata/dataviz24/raw/main/data/cms-top-all-time-2023-swim.xlsx" rel="" target="">
 <span class="dropdown-text">cms-top-all-time-2023-swim.xlsx (/data/raw)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/slicesofdata/dataviz24/raw/main/data/cms-top-all-time-2023-swim.csv" rel="" target="">
 <span class="dropdown-text">cms-top-all-time-2023-swim.csv (/data/raw)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/slicesofdata/dataviz24/raw/main/data/cleaned-cms-top-all-time-2023-swim.csv" rel="" target="">
 <span class="dropdown-text">cleaned-cms-top-all-time-2023-swim.csv (/data/processed)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/rfordatascience/tidytuesday" rel="" target="">
 <span class="dropdown-text">Fun Tidy Tuesday Data Sets</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://dcas.dmdc.osd.mil/dcas/app/home" rel="" target="">
 <span class="dropdown-text">Defense Casualty Analysis System (DCAS)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-example-files--other" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text"><strong>Example Files &amp; Other</strong></span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-example-files--other">    
        <li>
    <a class="dropdown-item" href="../resources/tools.html" rel="" target="">
 <span class="dropdown-text"><strong>Other Tools/Resources</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../examples/example-figure-script.R" rel="" target="">
 <span class="dropdown-text">example-figure-script.R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../examples/example-rmarkdown-file-with-fig-script.Rmd" rel="" target="">
 <span class="dropdown-text">example-rmarkdown-file-with-fig-script.Rmd</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-cheatsheets" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text"><strong>Cheatsheets</strong></span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-cheatsheets">    
        <li>
    <a class="dropdown-item" href="../cheatsheets_and_tips/symbols.html" rel="" target="">
 <span class="dropdown-text">Symbols</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../cheatsheets/rmarkdown-2.0.pdf" rel="" target="">
 <span class="dropdown-text">RMarkdown</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf" rel="" target="">
 <span class="dropdown-text">Data Wrangling with {dplyr} and {tidyr}</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://rstudio.github.io/cheatsheets/html/quarto.html" rel="" target="">
 <span class="dropdown-text">Quarto (Publish and Share)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://rstudio.github.io/cheatsheets/html/strings.html" rel="" target="">
 <span class="dropdown-text">String Manipulation with {stringr}</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://rstudio.github.io/cheatsheets/html/data-import.html" rel="" target="">
 <span class="dropdown-text">Reading and Writing Data with {readr}</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../cheatsheets/Data_Science_With_R_Workflow.pdf" rel="" target="">
 <span class="dropdown-text">Data Science with RWorkflow</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://rstudio.github.io/cheatsheets/" rel="" target="">
 <span class="dropdown-text">More Cheatsheets From RStudio</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://images.datacamp.com/image/upload/v1676540721/Marketing/Blog/Quarto_Cheat_Sheet.pdf" rel="" target="">
 <span class="dropdown-text">Quarto Cheat Sheet (what Quarto Files Look Like)</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/slicesofdata" rel="" target=""><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://gabrielcook.xyz" rel="" target="">
 <span class="menu-text">Me</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../modules/index.html">Modules</a></li><li class="breadcrumb-item"><a href="../modules/designing_perceptually_efficient_visualizations.html">Designing perceptually-efficient visualizations</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus/syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../schedule/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../modules_setup/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Installation, Setup, &amp; R Basics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../modules_setup/Installation &amp; Setup/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Installation &amp; Setup</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules_setup/Installation &amp; Setup/installing_r_and_rstudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Installing R &amp; RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules_setup/Installation &amp; Setup/installing_git.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Installing Git</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../modules_setup/R Basics/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R Basics and Refreshers</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules_setup/R Basics/introduction_to_r_rstudio_and_rmarkdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction to RStudio, R Markdown, &amp; Functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules_setup/R Basics/functions_and_scripts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Functions, Arguments, and R scripts</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules_setup/R Basics/vectors_and_data_frame_basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Vectors and data frame basics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules_setup/R Basics/reading_data_files.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reading data files</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../modules/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modules</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../modules/project_management/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project Management</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/project_management/setting_up_git_and_github.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><em>Project Management 01</em>: Setting Up Git and GitHub for R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/project_management/using_git_and_github.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><em>Project Management 02</em>: R Projects, Git, and GitHub</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/graphical_perception.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Graphical perception</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/data_frame_manipulation_and_wrangling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data frame manipulation and wrangling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/data_subsets_and_summaries.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data subsets and summaries</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/considerations_in_data_visualization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Considerations in data visualization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/designing_perceptually_efficient_visualizations.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Designing perceptually-efficient visualizations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/ggplot_and_the_grammar_of_graphics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">{<code>ggplot2</code>}: The Grammar of Graphics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/visualizing_associations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Visualizing associations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/spatial_position_and_adjustment.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spatial position and adjustment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/color_scales_and_palettes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Color scales and palettes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/coordinates_axes_and_position_scales.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Coordinates, axes, and position scales</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/statistical_transformations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistical transformations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/visualizing_more_distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Visualizing more distributions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/visualizing_uncertainty.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>Visualizing uncertainty</strong></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/visualizing_trends.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Visualizing trends</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/legends_and_arrangement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Legends and arrangement</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/multi_panel_plots_faceting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><em>Multi-panel plots: Faceting</em></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/attentional_control.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Attentional control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../modules/themes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bonus: Figure design &amp; themes</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../project/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project/01_project_team_roles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><em>Team membership and roles</em></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project/02_project_midterm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><em>Midterm presentation</em></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project/03_project_final.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><em>Final Presentation</em></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project/04_project_report.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><em>Final Report</em></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project/05_project_tasks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><em>Project Tasks</em></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview"><strong>Overview</strong></a></li>
  <li><a href="#to-do-for-class" id="toc-to-do-for-class" class="nav-link" data-scroll-target="#to-do-for-class"><strong>To Do For Class</strong></a>
  <ul class="collapse">
  <li><a href="#reference-reservation-process" id="toc-reference-reservation-process" class="nav-link" data-scroll-target="#reference-reservation-process"><strong>Reference Reservation Process</strong></a></li>
  <li><a href="#paper-summary-task" id="toc-paper-summary-task" class="nav-link" data-scroll-target="#paper-summary-task"><strong>Paper Summary Task</strong></a></li>
  <li><a href="#reading-options" id="toc-reading-options" class="nav-link" data-scroll-target="#reading-options"><strong>Reading Options</strong></a></li>
  <li><a href="#extended-reading-resources" id="toc-extended-reading-resources" class="nav-link" data-scroll-target="#extended-reading-resources"><strong>Extended Reading Resources</strong></a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Designing perceptually-efficient visualizations</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Gabriel I. Cook </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 15, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="overview" class="level1">
<h1><strong>Overview</strong></h1>
<p>Creating visualizations is easy as long as you know a little about the tools available to you for creating them. Creating visualizations that are clear and not misleading is more challenging. One reason for this is that the cognitive processes by which humans perceive and understand visualizations involve those for which we are unaware (e.g., automatic cognitive processing). As a result, creating visualization that are easy to perceive, that are not attentionally demanding, that reduce confusion, that are not overly complex, that facilitate comparisons rather that compromise them, and so forth is more challenging. The latter involves an understanding of how people perceive and attend to elements of plots (e.g., aesthetics) and well as how the interpret, remember, and make-decisions about data visualizations. With this information, you create visualizations that are perceptually accessible and efficient. This module will introduce you to some of the literate in the area.</p>
</section>
<section id="to-do-for-class" class="level1">
<h1><strong>To Do For Class</strong></h1>
<p>The <strong>reference list below</strong> represents a variety of topics related to the science of data visualization research. The papers are presented in alphabetized order rather than in order of importance. Some references address perceptual issues related to aesthetics, some plot types or comparisons, some storytelling and interpretation, some reasoning, some color, some about the user, etc. Some titles do not perfectly communicate the topic of study (especially those with ambiguous terms), so I recommend looking at a paper and reading the abstract to better inform your selection.</p>
<section id="reference-reservation-process" class="level2">
<h2 class="anchored" data-anchor-id="reference-reservation-process"><strong>Reference Reservation Process</strong></h2>
<p>In order to make your reading selection, you will reserve a paper from the list by editing this <a href="https://docs.google.com/document/d/15aMduI8mckYN-AmI-DvIabw6NPxo4YJfBEanZMdatQ0/edit?usp=sharing">shared file</a>. Next to each reading, you will see <strong>parentheses ()</strong>. You will decide on a paper to read and summarize according to some specific questions. Once you decide upon a paper, type your name inside the parentheses in order to <strong>reserve the reading</strong>. Selection is first-come, first-served; if two individuals from the same class have reserved a paper, it is no longer available for reading. Do not replace someone’s name. Do not delete any content.</p>
<p>If you wish to pair up with someone (in the same class or other class), read the paper together and submit your summary responses for others as a team, feel free to do so. Just ensure that you add both contributors names.</p>
<!--
See [here](/homework/hw02.Rmd) for the summary items. 
-->
</section>
<section id="paper-summary-task" class="level2">
<h2 class="anchored" data-anchor-id="paper-summary-task"><strong>Paper Summary Task</strong></h2>
<p>There is a <strong>Summary Template</strong> on Page 2 of the file and on Page 3 a section for <strong>Summary Entries</strong>. You should copy the content from the template and paste it into the document for entering your summary of the paper. Follow the prompts as listed below but feel free to provide other information that you believe is relevant for understanding the take-home message of the paper. In class, you will have some time to walk your peers through the piece of research so that they can understand it at a general level. The summary content will be available for all so that everyone can benefit from the reading of the collective group. Advice provided herein should be considered when deciding how your team creates visualizations for your project.</p>
<p><strong>Items to include in your summary</strong></p>
<ul>
<li><em>Your Names(s)</em></li>
<li><em>Paper Title</em></li>
<li><em>What was the goal of the research?</em></li>
<li><em>Describe the general research methodology.</em></li>
<li><em>What was the general finding or pattern of data (outcome variables ~ predictors)? If you did not make the variables and levels of variables clear in the previous item, do so here.</em></li>
<li><em>If there are multiple experiments, was a pattern consistent across experiments or did manipulations provide a nuanced view of cognitive processes?</em></li>
<li><em>What explanation or theory was provided to account for the data? Keep in mind that an explanation for data does not simply mean the pattern of the data. Rather, the theory is offered to explain why the pattern might exist.</em></li>
<li><em>What data visualization advice do you have for your peers based on this piece of research?</em></li>
</ul>
<p><strong>Note:</strong> Feel free to include screen clippings of data or images if they help understand the methodology, manipulations, or data.</p>
</section>
<section id="reading-options" class="level2">
<h2 class="anchored" data-anchor-id="reading-options"><strong>Reading Options</strong></h2>
<!-- [Yuan, Haroz, Franconeri (2018). Perceptual proxies for extracting averages in data visualizations](readings/Yuan, Haroz, Franconeri (2018). Perceptual proxies for extracting averages in data visualizations.pdf)

- [Bertini et al. (2020). Why shouldn’t all charts be scatter plots: Beyond precision-driven visualizations](readings/Bertini et al. (2020). Why Shouldn’t All Charts Be Scatter Plots--Beyond Precision-Driven Visualizations.pdf)
-->
<ul>
<li><a href="https://raw.githubusercontent.com/slicesofdata/dataviz24/main/readings/readings/Borkin-et%20al.-(2015).-Beyond%20memorability--Visualization-recognition-and-recall.pdf">Borkin et al.&nbsp;(2015). Beyond memorability: Visualization recognition and recall</a> <!--
- [Borland et al. (2007). Rainbow color map (still) considered harmful.pdf](readings/Borland et al. (2007). Rainbow color map (still) considered harmful.pdf)
--> <!--
- [Correll et al. (2020). Truncating the Y-Axis: Threat or menace](readings/Correll et al. (2020). Truncating the Y-Axis--Threat or Menace.pdf)
- [Doherty, Anderson, Angott, & Klopfer (2007). The perception of scatterplots](readings/Doherty, Anderson, Angott, & Klopfer (2007). The perception of scatterplots.pdf)
- [Gattis & Holyoak (1996). Mapping conceptual to spatial relations in visual reasoning](readings/Gattis & Holyoak (1996). Mapping conceptual to spatial relations in visual reasoning..pdf)
- [Gleicher, Corell, Nothelfer, & Franconer (2013). Perception of average value in multiclass scatterplots](readings/Gleicher, Corell, Nothelfer, & Franconer (2013). Perception of Average Value in Multiclass Scatterplots.pdf)
- [Hollands & Spence (2001). The discrimination of graphical elements.pdf](readings/Hollands & Spence (2001). The discrimination of graphical elements.pdf)
<!--  [Huestegge & Potzsch (2018). Integration processes during frequency graph comprehension: Performance and eye movements while processing tree maps versus pie charts.pdf](readings/Huestegge & Potzsch (2018). Integration processes during frequency graph comprehension--Performance and eye movements while processing tree maps versus pie charts.pdf)
--></li>
<li><a href="readings/Matlen, Genter, &amp; Franceroni (2020). Spatial alignment facilitates visual comparison..pdf">Matlen, Genter, &amp; Franceroni (2020). Spatial alignment facilitates visual comparison</a></li>
<li><a href="readings/Nothelfer et al. (2017). Redundant Encoding Strengthens Segmentation and Grouping in Visual Displays of Data.pdf">Nothelfer et al.&nbsp;(2017). Redundant encoding strengthens segmentation and grouping in visual displays of data</a> <!--
- [Padilla et al. (2014). The influence of different graphical displays on nonexpert decision making under uncertainty](readings/Padilla et al. (2014). The influence of different graphical displays on nonexpert decision making under uncertainty.pdf)
- [Pandley et al. (2015). How deceptive are deceptive Visualizations: An Empirical analysis of common distortion techniques](readings/Pandley et al. (2015). How Deceptive are Deceptive Visualizations--An Empirical Analysis of Common Distortion Techniques.pdf)
- [Peebles & Ali (2015). Expert interpretation of bar and line graphs--the role of graphicacy in reducing the effect of graph format](readings/Peebles & Ali (2015). Expert interpretation of bar and line graphs--the role of graphicacy in reducing the effect of graph format.pdf)
- [Quinan, Padilla et al. (2019). Examining implicit discretization](readings/Quinan, Padilla et al. (2019). Examining implicit discretization.pdf)
- [Reda & Szafir (2021). Rainbows Revisited--Modeling Effective Colormap Design for Graphical Inference](readings/Reda & Szafir (2021). Rainbows Revisited--Modeling Effective Colormap Design for Graphical Inference.pdf)
--></li>
<li><a href="readings/Sarikaya &amp; Gleicher (2018). Scatterplots--Tasks, Data, and Designs.pdf">Sarikaya &amp; Gleicher (2018). Scatterplots: Tasks, Data, and Designs</a></li>
<li><a href="readings/Shah &amp; Carpenter (1995). Conceptual limitations in comprehending line graphs.pdf">Shah &amp; Carpenter (1995). Conceptual limitations in comprehending line graphs</a> <!--
- [Sun et a. (2018). High capacity preconscious processing in concurrent groupings of colored dots](readings/Sun et a. (2018). High-capacity-preconscious-processing-in-concurrent-groupings-of-colored-dots.pdf)
- [Szafir (2016). Four types of ensemble coding in data visualizations](readings/Szafir (2016). Four types of ensemble coding in data visualizations.pdf)
- [Witt (2019). Graph Construction: An empirical investigation on setting the range of the y-axis](readings/Witt (2019). Graph Construction--An empirical investigation on setting the range of the y-axis.pdf)
- [Witt, Fu, & Dod (2023). Variability of dot spread is overestimated](readings/Witt, Fu, & Dod (2023). Variability of dot spread is overestimated..pdf)
--></li>
<li><a href="readings/Xiong, Franconeri (2022). Visual_Arrangements_of_Bar_Charts_Influence_Comparisons_in_Viewer_Takeaways.pdf">Xiong, Franconeri (2022). Visual arrangements of bar charts influence comparisons in viewer takeaways</a></li>
<li><a href="readings/Xiong, Franconeri et al. (2023). Seeing_What_You_Believe_or_Believing_What_You_See_Belief_Biases_Correlation_Estimation.pdf">Xiong, Franconeri et al.&nbsp;(2023). Seeing what you believe or believing what you see: Belief biases correlation estimation</a></li>
</ul>
<!--

Reading should take place in two parts:

 - *Prior to class*, the goal should be to familiarize yourself and bring questions to class. The readings from [TFDV](https://clauswilke.com/dataviz) are conceptual and should facilitate readings from [EGDA](https://ggplot2-book.org/) for code implementation.
 - *After class*, the goal of reading should be to understand and implement code functions as well as support your understanding and help your troubleshooting of problems. 

*Before Class*: First, read to familiarize yourself with the concepts rather than master them. Understand why one would want to visualize data in a particular way and also understand some of the functionality of **{ggplot2}**. I will assume that you attend class with some level of basic understanding of concepts.

*Class*: In class, some functions and concepts will be introduced and we will practice implementing **{ggplot2}** code. On occasion, there will be an assessment involving code identification, correction, explanation, etc. of concepts addressed in previous modules and perhaps some conceptual elements from this week's readings. 

*After Class*: After having some hands-on experience with coding in class, homework assignments will involve writing your own code to address some problem. These problems will be more complex, will involving problem solving, and may be open ended. This is where the second pass at reading with come in for you to reference when writing your code. The module content presented below is designed to offer you some assistance working through various coding problems but may not always suffice as a replacement for the readings from **Wickham, Navarro, & Pedersen (under revision)**. *ggplot2: Elegant Graphics for Data Analysis (3e)*.


- [Xiong et a. (2023). *Seeing What You Believe or Believing What You See? Belief Biases Correlation Estimation.*](https://ieeexplore.ieee.org/document/9904491)


Optional *(for the intellectually curious)*:
- [Szafir et al. (2016). *Four types of ensemble coding in data visualizations*.](https://doi.org/10.1167/16.5.11)
- [Xiong et al. (2021). *Visual Arrangements of Bar Charts Influence Comparisons in Viewer Takeaways.*](https://ieeexplore.ieee.org/document/9552208)


# **Under construction, content pending**
-->
</section>
<section id="extended-reading-resources" class="level2">
<h2 class="anchored" data-anchor-id="extended-reading-resources"><strong>Extended Reading Resources</strong></h2>
<p>Another great but very lengthy reading is <a href="readings/Franconeri et al. (2021). The Science of Visual Data Communication--What Works.pdf">Franceroni et al.&nbsp;(2012). The Science of Visual Data Communication: What Works.</a></p>
<!--
[here](https://journals.sagepub.com/doi/10.1177/15291006211051956)
-->


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>